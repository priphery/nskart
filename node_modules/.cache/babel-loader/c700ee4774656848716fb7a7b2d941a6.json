{"ast":null,"code":"var _jsxFileName = \"/Users/vijaysingh/ReactJS/nskart/src/context/contextProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer, useState, useEffect } from \"react\";\nimport Context from \"./MainContext\";\nimport { reducer } from '../reducer/reducer';\nimport Base64 from \"../helper/EncodeDecode\";\nimport Cookies from 'universal-cookie';\nimport URL from \"../URL\"; // import { useNavigate } from 'react-router';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\n\nconst ContextProvider = props => {\n  _s();\n\n  // const navigate = useNavigate();\n  // const [isLoading, setLoading] = useState(true);\n  const MainData = {\n    isLoading: true,\n    auth: {\n      isUserLogin: false\n    },\n    user: {\n      user_info: {\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        address: \"\",\n        provider_pic: \"\"\n      }\n    },\n    banners: [],\n    categories: [],\n    products: [],\n    condition: [],\n    Storefaq: [],\n    public_notification: [],\n    subcategories: [],\n    cartItems: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : [],\n    totalItems: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')).length : 0,\n    totalAmount: 0\n  };\n  const functionality = {\n    fetchAllData: payload => dispatch({\n      type: \"FETCH_ALL_DATA\",\n      payload\n    }),\n    setUserLogin: credentials => dispatch({\n      type: \"USER_LOGIN\",\n      credentials\n    }),\n    addToCart: payload => dispatch({\n      type: \"ADD_TO_CART\",\n      payload\n    }),\n    removeFromCart: payload => dispatch({\n      type: \"REMOVE_FROM_CART\",\n      payload\n    }),\n    logOut: () => {\n      cookies.remove(\"isUserLogin\");\n      cookies.remove(\"userID\");\n      cookies.remove(\"userProvider_id\");\n      cookies.remove(\"userName\");\n      cookies.remove(\"userMobile\");\n      dispatch({\n        type: \"LOGOUT\"\n      });\n    },\n    setCartDetails: payload => dispatch({\n      type: \"CART_DETAILS\",\n      payload\n    }),\n    removeCart: payload => dispatch({\n      type: \"REMOVE_CART\",\n      payload\n    }),\n    genRanHex: size => [...Array(size)].map(() => Math.floor(Math.random() * 16).toString(16)).join(''),\n    setTotalPrice: price => dispatch({\n      type: \"TOTAL_PRICE\",\n      price\n    })\n  };\n\n  const fetchData = () => {\n    fetch(URL + \"/APP-API/App/reloadData\", {\n      method: 'POST',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({})\n    }).then(response => response.json()).then(responseJson => {\n      functionality.fetchAllData(responseJson); // fetchAllData(responseJson);\n    }).catch(error => {//  console.error(error);\n    });\n  };\n\n  const getUserDetails = userID => {\n    fetch(URL + \"/APP-API/App/GetUserInfo\", {\n      method: 'POST',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        userID\n      })\n    }).then(response => response.json()).then(responseJson => {\n      functionality.setUserLogin(responseJson); // functionality.fetchAllData(responseJson);\n    }).catch(error => {//  console.error(error);\n    });\n  };\n\n  useEffect(() => {\n    // let userCookie = btoa(\"userID\");\n    // lets see...\n    const userID = cookies.get(\"userID\");\n\n    if (userID && MainData.user.user_info.name == \"\") {\n      getUserDetails(Base64.atob(userID));\n    }\n\n    fetchData();\n  }, [MainData.user.user_info.name]);\n  const [MainDataExport, dispatch] = useReducer(reducer, MainData);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: { ...MainDataExport,\n      ...functionality\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ContextProvider, \"l+UKjJ8rt2Ah/JSZ1lkGlF0X66k=\");\n\n_c = ContextProvider;\nexport default ContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"sources":["/Users/vijaysingh/ReactJS/nskart/src/context/contextProvider.js"],"names":["React","useReducer","useState","useEffect","Context","reducer","Base64","Cookies","URL","cookies","ContextProvider","props","MainData","isLoading","auth","isUserLogin","user","user_info","name","email","phone","address","provider_pic","banners","categories","products","condition","Storefaq","public_notification","subcategories","cartItems","localStorage","getItem","JSON","parse","totalItems","length","totalAmount","functionality","fetchAllData","payload","dispatch","type","setUserLogin","credentials","addToCart","removeFromCart","logOut","remove","setCartDetails","removeCart","genRanHex","size","Array","map","Math","floor","random","toString","join","setTotalPrice","price","fetchData","fetch","method","header","body","stringify","then","response","json","responseJson","catch","error","getUserDetails","userID","get","atob","MainDataExport","children"],"mappings":"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","sourcesContent":["import React, { useReducer, useState, useEffect } from \"react\";\r\nimport Context from \"./MainContext\";\r\nimport { reducer } from '../reducer/reducer';\r\nimport Base64 from \"../helper/EncodeDecode\";\r\nimport Cookies from 'universal-cookie';\r\nimport URL from \"../URL\";\r\n// import { useNavigate } from 'react-router';\r\n\r\n\r\nconst cookies = new Cookies();\r\n\r\nconst ContextProvider = props => {\r\n\r\n\r\n    // const navigate = useNavigate();\r\n\r\n    // const [isLoading, setLoading] = useState(true);\r\n    const MainData = {\r\n        isLoading: true,\r\n        auth: {\r\n            isUserLogin: false\r\n        },\r\n\r\n        user: {\r\n            user_info: {\r\n                name: \"\",\r\n                email: \"\",\r\n                phone: \"\",\r\n                address: \"\",\r\n                provider_pic: \"\"\r\n            },\r\n        },\r\n\r\n        banners: [],\r\n        categories: [],\r\n        products: [],\r\n        condition: [],\r\n        Storefaq: [],\r\n        public_notification: [],\r\n\r\n        subcategories: [],\r\n        cartItems: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : [],\r\n        totalItems: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')).length : 0,\r\n        totalAmount: 0\r\n    };\r\n\r\n    const functionality = {\r\n        fetchAllData: payload => dispatch({ type: \"FETCH_ALL_DATA\", payload }),\r\n        setUserLogin: credentials => dispatch({ type: \"USER_LOGIN\", credentials }),\r\n        addToCart: payload => dispatch({ type: \"ADD_TO_CART\", payload }),\r\n        removeFromCart: payload => dispatch({ type: \"REMOVE_FROM_CART\", payload }),\r\n        logOut: () => {\r\n            cookies.remove(\"isUserLogin\");\r\n            cookies.remove(\"userID\");\r\n            cookies.remove(\"userProvider_id\");\r\n            cookies.remove(\"userName\");\r\n            cookies.remove(\"userMobile\");\r\n            dispatch({ type: \"LOGOUT\" });\r\n        },\r\n        setCartDetails: payload => dispatch({ type: \"CART_DETAILS\", payload }),\r\n        removeCart: payload => dispatch({ type: \"REMOVE_CART\", payload }),\r\n        genRanHex: size => [...Array(size)].map(() => Math.floor(Math.random() * 16).toString(16)).join(''),\r\n        setTotalPrice: price => dispatch({ type: \"TOTAL_PRICE\", price })\r\n\r\n    }\r\n\r\n\r\n    const fetchData = () => {\r\n        fetch(URL + \"/APP-API/App/reloadData\", {\r\n            method: 'POST',\r\n            header: {\r\n                'Accept': 'application/json',\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n\r\n            })\r\n        }).then((response) => response.json())\r\n            .then((responseJson) => {\r\n                functionality.fetchAllData(responseJson);\r\n                // fetchAllData(responseJson);\r\n            })\r\n            .catch((error) => {\r\n                //  console.error(error);\r\n            });\r\n    };\r\n\r\n    const getUserDetails = (userID) => {\r\n        fetch(URL + \"/APP-API/App/GetUserInfo\", {\r\n            method: 'POST',\r\n            header: {\r\n                'Accept': 'application/json',\r\n                'Content-type': 'application/json'\r\n\r\n            },\r\n            body: JSON.stringify({\r\n                userID\r\n            })\r\n        }).then((response) => response.json())\r\n            .then((responseJson) => {\r\n                functionality.setUserLogin(responseJson);\r\n                // functionality.fetchAllData(responseJson);\r\n\r\n            })\r\n            .catch((error) => {\r\n                //  console.error(error);\r\n            });\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        // let userCookie = btoa(\"userID\");\r\n        // lets see...\r\n        const userID = cookies.get(\"userID\");\r\n        if (userID && MainData.user.user_info.name == \"\") {\r\n            getUserDetails(Base64.atob(userID));\r\n        }\r\n        fetchData();\r\n    }, [MainData.user.user_info.name])\r\n\r\n    const [MainDataExport, dispatch] = useReducer(reducer, MainData);\r\n\r\n    return (\r\n        <Context.Provider value={{\r\n            ...MainDataExport,\r\n            ...functionality\r\n        }}>\r\n            {props.children}\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport default ContextProvider;"]},"metadata":{},"sourceType":"module"}