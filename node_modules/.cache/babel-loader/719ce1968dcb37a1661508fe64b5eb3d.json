{"ast":null,"code":"var _jsxFileName = \"/Users/vijaysingh/ReactJS/nskart/src/component/Cart/Cart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport { Button, useMediaQuery } from '@chakra-ui/react';\nimport Address from './Address';\nimport CartItems from './CartItems';\nimport DeliveryTiming from './DeliveryTiming';\nimport PaymentDetails from './PaymentDetails';\nimport PaymentOption from './PaymentOption';\nimport MainContext from '../../context/MainContext';\nimport { useState } from 'react';\nimport Checkout from '../Checkout/Checkout';\nimport Cookies from 'universal-cookie';\nimport Base64 from '../../helper/EncodeDecode'; // import { OrderSuccessFull } from './OrderSuccessfull';\n\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\n\nconst Cart = props => {\n  _s();\n\n  const [isNotSmallerScreen] = useMediaQuery(\"(min-width:1024px)\");\n  const {\n    auth,\n    cartItems,\n    genRanHex,\n    totalAmount,\n    cartDetails,\n    setCartDetails,\n    removeCart\n  } = useContext(MainContext);\n  const [selectedAddress, setAddress] = useState();\n  const [selectedDeliveryTiming, setDeliveryTiming] = useState();\n  const [selectedPaymentOption, setPayment] = useState(\"COD\");\n  const [orderSuccessFull, setOrderSuccessFull] = useState(false);\n  const [navigate, setNavigate] = useState(false);\n  const UserIDs = cookies.get(\"userID\");\n  const UserID = UserIDs === undefined ? \"\" : Base64.atob(UserIDs);\n  const navigator = useNavigate();\n\n  const getDate = date => {\n    let dateObj = new Date(date);\n    let month = dateObj.getUTCMonth() + 1; //months from 1-12\n\n    let day = dateObj.getUTCDate();\n    let year = dateObj.getUTCFullYear();\n    return day + \"/\" + month + \"/\" + year;\n  };\n\n  useEffect(() => {\n    console.log(selectedAddress);\n  }, [selectedAddress]);\n  const checkOutData = {\n    selectedAddress,\n    selectedDeliveryTiming,\n    selectedPaymentOption,\n    cartItems\n  };\n\n  const placeOrder = () => {\n    var _cartDetails$couponDe;\n\n    const orderID = `${+new Date()}${genRanHex(16)}`;\n    setOrderSuccessFull(true);\n    const couponId = cartDetails.couponDetails !== undefined ? (_cartDetails$couponDe = cartDetails.couponDetails[0]) === null || _cartDetails$couponDe === void 0 ? void 0 : _cartDetails$couponDe.coupon_id : \"\";\n    fetch(URL + \"/APP-API/App/finalPlaceOrder\", {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        orderID,\n        AddressId: cartDetails.selectedAddress.address_id,\n        UserID,\n        FinalTotalAmount: totalAmount,\n        iscouponApplied: cartDetails.couponApplied,\n        PaymentMode: cartDetails.selectedPaymentOption,\n        couponId,\n        isDevApplied: cartDetails.isDeliveryChargeApplied,\n        delcharge: cartDetails.deliveryCharge,\n        order_time: +new Date() / 1000,\n        delivery_date: getDate(cartDetails.selectedDeliveryTiming.day),\n        delivery_slot: cartDetails.selectedDeliveryTiming.timingSlot,\n        cartItems\n      })\n    }).then(response => response.json()).then(responseJson => {\n      console.log(\"responce from server\", responseJson); // setOrderSuccessFull(true);\n\n      setCartDetails([]);\n      removeCart();\n      responseJson.status && navigator(\"/orderSuccess\", {\n        state: {\n          order: true\n        }\n      });\n    }).catch(error => {//  console.error(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"pb-4 osahan-main-body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-8 pb-3\",\n            children: navigate ? /*#__PURE__*/_jsxDEV(Checkout, {\n              setNavigate: setNavigate,\n              checkOutData: checkOutData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"accordion\",\n              id: \"accordionExample\",\n              children: [/*#__PURE__*/_jsxDEV(CartItems, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 37\n              }, this), auth.isUserLogin && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Address, {\n                  setAddress: setAddress\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(DeliveryTiming, {\n                  setDeliveryTiming: setDeliveryTiming\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(PaymentOption, {\n                  selectedAddress: selectedAddress,\n                  setNavigate: setNavigate,\n                  setPayment: setPayment\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), isNotSmallerScreen ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sticky_sidebar\",\n              children: [/*#__PURE__*/_jsxDEV(PaymentDetails, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 37\n              }, this), navigate && /*#__PURE__*/_jsxDEV(Button, {\n                isLoading: orderSuccessFull,\n                onClick: () => placeOrder(),\n                class: \"btn btn-success btn-lg btn-block mt-3 mb-3\",\n                children: \"Place Order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 50\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 29\n          }, this) : navigate && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-4 mb-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sticky_sidebar\",\n              children: [/*#__PURE__*/_jsxDEV(PaymentDetails, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 37\n              }, this), navigate && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: \"fixed\",\n                  bottom: 0,\n                  left: 0,\n                  width: \"100%\",\n                  background: \"#fff\",\n                  padding: 10\n                },\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  isLoading: orderSuccessFull,\n                  onClick: () => placeOrder(),\n                  class: \"btn btn-success btn-lg btn-block\",\n                  children: \"Place Order\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 50\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Cart, \"wRokv+sgdL6Aw2zS3OltCLw/7aQ=\", false, function () {\n  return [useMediaQuery, useNavigate];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/Users/vijaysingh/ReactJS/nskart/src/component/Cart/Cart.js"],"names":["React","useContext","useEffect","Button","useMediaQuery","Address","CartItems","DeliveryTiming","PaymentDetails","PaymentOption","MainContext","useState","Checkout","Cookies","Base64","useNavigate","cookies","Cart","props","isNotSmallerScreen","auth","cartItems","genRanHex","totalAmount","cartDetails","setCartDetails","removeCart","selectedAddress","setAddress","selectedDeliveryTiming","setDeliveryTiming","selectedPaymentOption","setPayment","orderSuccessFull","setOrderSuccessFull","navigate","setNavigate","UserIDs","get","UserID","undefined","atob","navigator","getDate","date","dateObj","Date","month","getUTCMonth","day","getUTCDate","year","getUTCFullYear","console","log","checkOutData","placeOrder","orderID","couponId","couponDetails","coupon_id","fetch","URL","method","header","body","JSON","stringify","AddressId","address_id","FinalTotalAmount","iscouponApplied","couponApplied","PaymentMode","isDevApplied","isDeliveryChargeApplied","delcharge","deliveryCharge","order_time","delivery_date","delivery_slot","timingSlot","then","response","json","responseJson","status","state","order","catch","error","isUserLogin","position","bottom","left","width","background","padding"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport { Button, useMediaQuery } from '@chakra-ui/react';\r\nimport Address from './Address';\r\nimport CartItems from './CartItems';\r\nimport DeliveryTiming from './DeliveryTiming';\r\nimport PaymentDetails from './PaymentDetails';\r\nimport PaymentOption from './PaymentOption';\r\nimport MainContext from '../../context/MainContext';\r\nimport { useState } from 'react';\r\nimport Checkout from '../Checkout/Checkout';\r\nimport Cookies from 'universal-cookie';\r\nimport Base64 from '../../helper/EncodeDecode';\r\n// import { OrderSuccessFull } from './OrderSuccessfull';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst cookies = new Cookies();\r\n\r\n\r\nconst Cart = (props) => {\r\n\r\n    const [isNotSmallerScreen] = useMediaQuery(\"(min-width:1024px)\");\r\n\r\n    const { auth, cartItems, genRanHex, totalAmount, cartDetails, setCartDetails, removeCart } = useContext(MainContext);\r\n\r\n    const [selectedAddress, setAddress] = useState();\r\n    const [selectedDeliveryTiming, setDeliveryTiming] = useState();\r\n    const [selectedPaymentOption, setPayment] = useState(\"COD\");\r\n    const [orderSuccessFull, setOrderSuccessFull] = useState(false);\r\n    const [navigate, setNavigate] = useState(false);\r\n    const UserIDs = cookies.get(\"userID\");\r\n    const UserID = UserIDs === undefined ? \"\" : Base64.atob(UserIDs);\r\n    const navigator = useNavigate();\r\n\r\n    const getDate = (date) => {\r\n        let dateObj = new Date(date);\r\n        let month = dateObj.getUTCMonth() + 1; //months from 1-12\r\n        let day = dateObj.getUTCDate();\r\n        let year = dateObj.getUTCFullYear();\r\n\r\n        return day + \"/\" + month + \"/\" + year;\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(selectedAddress);\r\n    }, [selectedAddress])\r\n\r\n    const checkOutData = {\r\n        selectedAddress,\r\n        selectedDeliveryTiming,\r\n        selectedPaymentOption,\r\n        cartItems\r\n    };\r\n\r\n    const placeOrder = () => {\r\n        const orderID = `${+ new Date()}${genRanHex(16)}`;\r\n        setOrderSuccessFull(true);\r\n        const couponId = cartDetails.couponDetails !== undefined ? cartDetails.couponDetails[0]?.coupon_id : \"\";\r\n        fetch(URL + \"/APP-API/App/finalPlaceOrder\", {\r\n            method: 'post',\r\n            header: {\r\n                'Accept': 'application/json',\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                orderID,\r\n                AddressId: cartDetails.selectedAddress.address_id,\r\n                UserID,\r\n                FinalTotalAmount: totalAmount,\r\n                iscouponApplied: cartDetails.couponApplied,\r\n                PaymentMode: cartDetails.selectedPaymentOption,\r\n                couponId,\r\n                isDevApplied: cartDetails.isDeliveryChargeApplied,\r\n                delcharge: cartDetails.deliveryCharge,\r\n                order_time: + new Date() / 1000,\r\n                delivery_date: getDate(cartDetails.selectedDeliveryTiming.day),\r\n                delivery_slot: cartDetails.selectedDeliveryTiming.timingSlot,\r\n                cartItems\r\n            })\r\n\r\n        })\r\n            .then((response) => response.json())\r\n            .then((responseJson) => {\r\n                console.log(\"responce from server\", responseJson);\r\n                // setOrderSuccessFull(true);\r\n                setCartDetails([]);\r\n                removeCart();\r\n                responseJson.status && navigator(\"/orderSuccess\", { state: { order: true } });\r\n            })\r\n            .catch((error) => {\r\n                //  console.error(error);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <section className=\"pb-4 osahan-main-body\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-8 pb-3\">\r\n                            {navigate ? <Checkout setNavigate={setNavigate} checkOutData={checkOutData} /> : (\r\n                                <div className=\"accordion\" id=\"accordionExample\">\r\n                                    <CartItems />\r\n                                    {auth.isUserLogin && <>\r\n                                        <Address setAddress={setAddress} />\r\n                                        <DeliveryTiming setDeliveryTiming={setDeliveryTiming} />\r\n                                        <PaymentOption selectedAddress={selectedAddress} setNavigate={setNavigate} setPayment={setPayment} />\r\n                                    </>}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        {isNotSmallerScreen ?\r\n                            <div className=\"col-lg-4\">\r\n                                <div className=\"sticky_sidebar\">\r\n                                    <PaymentDetails />\r\n                                    {navigate && <Button isLoading={orderSuccessFull} onClick={() => placeOrder()} class=\"btn btn-success btn-lg btn-block mt-3 mb-3\">Place Order</Button>}\r\n                                </div>\r\n                            </div>\r\n                            :\r\n                            navigate && <div className=\"col-lg-4 mb-5\">\r\n                                <div className=\"sticky_sidebar\">\r\n                                    <PaymentDetails />\r\n                                    {navigate && <div style={{ position: \"fixed\", bottom: 0, left: 0, width: \"100%\", background: \"#fff\", padding: 10 }}>\r\n                                        <Button isLoading={orderSuccessFull} onClick={() => placeOrder()} class=\"btn btn-success btn-lg btn-block\">Place Order</Button>\r\n                                    </div>}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default Cart;"]},"metadata":{},"sourceType":"module"}