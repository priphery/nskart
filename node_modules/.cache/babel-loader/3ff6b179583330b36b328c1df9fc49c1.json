{"ast":null,"code":"export const reducer = (state, action) => {\n  if (action.type === \"ADD_TO_CART\") {\n    if (!state.cartItems.find(o => o.cartId === action.payload.cartId)) {\n      state.cartItems.push(action.payload);\n      state.totalAmmuont = parseInt(state.totalAmmuont) + parseInt(action.payload.price);\n      return { ...state,\n        totalItems: state.totalItems + 1\n      };\n    } else {\n      const objIndex = state.cartItems.findIndex(obj => obj.cartId === action.payload.cartId);\n      state.cartItems[objIndex].itemQuant = parseInt(action.payload.itemQuant);\n      state.totalAmmuont = parseInt(state.totalAmmuont) + parseInt(action.payload.price);\n      return { ...state\n      };\n    }\n  }\n\n  if (action.type === \"CART_DETAILS\") {\n    state.cartDetails = { ...state.cartDetails,\n      ...action.payload\n    };\n    state.isLoading = false;\n    return { ...state\n    };\n  }\n\n  if (action.type === \"TOTAL_PRICE\") {\n    state.totalAmount = action.price;\n    return { ...state\n    };\n  }\n\n  if (action.type === \"FETCH_ALL_DATA\") {\n    state = { ...state,\n      ...action.payload\n    };\n    state.isLoading = false;\n    return { ...state\n    };\n  }\n\n  if (action.type === \"REMOVE_CART\") {\n    state.cartItems = [];\n    state.cartDetails = [];\n    state.totalItems = 0;\n    return { ...state\n    };\n  }\n\n  if (action.type === \"USER_LOGIN\") {\n    state.user = action.credentials;\n    state.auth.isUserLogin = true;\n    state.isLoading = false;\n    return { ...state\n    };\n  }\n\n  if (action.type === \"LOGOUT\") {\n    state.user = {};\n    state.auth.isUserLogin = false;\n    state.isLoading = false;\n    return { ...state\n    };\n  }\n\n  if (action.type === \"REMOVE_FROM_CART\") {\n    const removeByAttr = function (arr, attr, value) {\n      let i = arr.length;\n\n      while (i--) {\n        if (arr[i] && arr[i].hasOwnProperty(attr) && arguments.length > 2 && arr[i][attr] === value) {\n          state.totalAmmuont = parseInt(state.totalAmmuont) - parseInt(arr[i].totalPrice);\n          state.totalItems = parseInt(state.totalItems) - parseInt(arr[i].itemQuant);\n          arr.splice(i, 1);\n        }\n      }\n    };\n\n    removeByAttr(state.cartItems, 'cartId', action.payload);\n    return { ...state\n    };\n  }\n\n  if (action.type === \"CLEAR_CART\") {\n    state.cartItems = [];\n    state.totalAmmuont = 0;\n    state.totalItems = 0;\n    localStorage.removeItem(\"cartItems\");\n    localStorage.removeItem(\"totalAmmuont\");\n    return { ...state\n    };\n  }\n\n  if (action.type === \"UPDATE_CART\") {\n    const objIndex = state.cartItems.findIndex(obj => obj.cartId === action.payload.oldCartProductId);\n    const obj = state.cartItems[objIndex];\n    state.totalAmmuont = parseInt(state.totalAmmuont) - parseInt(obj.totalPrice);\n    state.totalItems = parseInt(state.totalItems) - parseInt(obj.itemQuant);\n    state.cartItems.splice(objIndex, 1, action.payload);\n    state.totalAmmuont = parseInt(state.totalAmmuont) + parseInt(action.payload.totalPrice);\n    state.totalItems = parseInt(state.totalItems) + parseInt(action.payload.itemQuant);\n    return { ...state\n    };\n  }\n\n  return state;\n};","map":{"version":3,"sources":["/Users/vijaysingh/ReactJS/nskart/src/reducer/reducer.js"],"names":["reducer","state","action","type","cartItems","find","o","cartId","payload","push","totalAmmuont","parseInt","price","totalItems","objIndex","findIndex","obj","itemQuant","cartDetails","isLoading","totalAmount","user","credentials","auth","isUserLogin","removeByAttr","arr","attr","value","i","length","hasOwnProperty","arguments","totalPrice","splice","localStorage","removeItem","oldCartProductId"],"mappings":"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","sourcesContent":["export const reducer = (state, action) => {\r\n    if (action.type === \"ADD_TO_CART\") {\r\n        if (!state.cartItems.find(o => o.cartId === action.payload.cartId)) {\r\n            state.cartItems.push(action.payload);\r\n            state.totalAmmuont = parseInt(state.totalAmmuont) + parseInt(action.payload.price);\r\n            return {\r\n                ...state,\r\n                totalItems: state.totalItems + 1\r\n            }\r\n        } else {\r\n            const objIndex = state.cartItems.findIndex((obj => obj.cartId === action.payload.cartId));\r\n            state.cartItems[objIndex].itemQuant = parseInt(action.payload.itemQuant);\r\n            state.totalAmmuont = parseInt(state.totalAmmuont) + parseInt(action.payload.price);\r\n            return {\r\n                ...state,\r\n            }\r\n        }\r\n    }\r\n\r\n    if (action.type === \"CART_DETAILS\") {\r\n        state.cartDetails = { ...state.cartDetails, ...action.payload };\r\n        state.isLoading = false\r\n        return {\r\n            ...state,\r\n        };\r\n    }\r\n\r\n    if (action.type === \"TOTAL_PRICE\") {\r\n        state.totalAmount = action.price;\r\n        return {\r\n            ...state,\r\n        };\r\n    }\r\n\r\n    if (action.type === \"FETCH_ALL_DATA\") {\r\n        state = { ...state, ...action.payload };\r\n        state.isLoading = false\r\n        return {\r\n            ...state,\r\n        };\r\n    }\r\n\r\n    if (action.type === \"REMOVE_CART\") {\r\n        state.cartItems = [];\r\n        state.cartDetails = [];\r\n        state.totalItems = 0;\r\n        return {\r\n            ...state,\r\n        };\r\n    }\r\n\r\n    if (action.type === \"USER_LOGIN\") {\r\n        state.user = action.credentials;\r\n        state.auth.isUserLogin = true;\r\n        state.isLoading = false\r\n        return {\r\n            ...state,\r\n        };\r\n    }\r\n\r\n    if (action.type === \"LOGOUT\") {\r\n        state.user = {};\r\n        state.auth.isUserLogin = false;\r\n        state.isLoading = false\r\n        return {\r\n            ...state,\r\n        };\r\n    }\r\n    if (action.type === \"REMOVE_FROM_CART\") {\r\n        const removeByAttr = function (arr, attr, value) {\r\n            let i = arr.length;\r\n            while (i--) {\r\n                if (arr[i]\r\n                    && arr[i].hasOwnProperty(attr)\r\n                    && (arguments.length > 2 && arr[i][attr] === value)) {\r\n                    state.totalAmmuont = parseInt(state.totalAmmuont) - parseInt(arr[i].totalPrice);\r\n                    state.totalItems = parseInt(state.totalItems) - parseInt(arr[i].itemQuant)\r\n                    arr.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        removeByAttr(state.cartItems, 'cartId', action.payload);\r\n\r\n        return {\r\n            ...state,\r\n        };\r\n    }\r\n    if (action.type === \"CLEAR_CART\") {\r\n\r\n        state.cartItems = [];\r\n        state.totalAmmuont = 0;\r\n        state.totalItems = 0;\r\n        localStorage.removeItem(\"cartItems\");\r\n        localStorage.removeItem(\"totalAmmuont\");\r\n\r\n        return {\r\n            ...state,\r\n        };\r\n    }\r\n\r\n    if (action.type === \"UPDATE_CART\") {\r\n        const objIndex = state.cartItems.findIndex((obj => obj.cartId === action.payload.oldCartProductId));\r\n        const obj = state.cartItems[objIndex];\r\n        state.totalAmmuont = parseInt(state.totalAmmuont) - parseInt(obj.totalPrice);\r\n        state.totalItems = parseInt(state.totalItems) - parseInt(obj.itemQuant);\r\n        state.cartItems.splice(objIndex, 1, action.payload);\r\n        state.totalAmmuont = parseInt(state.totalAmmuont) + parseInt(action.payload.totalPrice);\r\n        state.totalItems = parseInt(state.totalItems) + parseInt(action.payload.itemQuant);\r\n        return {\r\n            ...state,\r\n        };\r\n    }\r\n\r\n    return state;\r\n}"]},"metadata":{},"sourceType":"module"}